dfx start -clean



dfx identity whoami
dfx identity get-principal

dfx identity use default
dfx identity get-principal

dfx identity list

dfx canister id split_dapp
uxrrr-q7777-77774-qaaaq-cai


ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe
ckbtc-minter-canister-id


# Set ICP balance (1 ICP = 100,000,000 e8s)
dfx canister call split_dapp setInitialBalance '(principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe", 1000000000 : nat, principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe")' --network local

# Set ckBTC balance (1 ckBTC = 100,000,000 satoshis)
dfx canister call split_dapp setBitcoinBalance '(principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe", principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe", 100000000 : nat)' --network local

dfx canister call split_dapp getCkbtcBalance '(principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe")' --network local

dfx canister call split_dapp getCkbtcBalance '(principal "hxmjs-porgp-cfkrg-37ls7-ph6op-5nfza-v2v3a-c7asz-xecxj-fidqe-qqe")' --network local


dfx deploy split_dapp --network local --yes
dfx generate split_dapp --network local

dfx canister call split_dapp initiateEscrow '(principal "ohtzl-xywgo-f2ka3-aqu2f-6yzqx-ocaum-olq5r-7aaz2-ojzeh-drkxg-hqe", vec { record { "principal" = principal "hxmjs-porgp-cfkrg-37ls7-ph6op-5nfza-v2v3a-c7asz-xecxj-fidqe-qqe"; amount = 50000; nickname = "Test Recipient"; percentage = 100 } }, "Test Escrow")' --network local